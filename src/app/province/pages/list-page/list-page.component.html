<app-loading-spinner *ngIf="isLoading" [title]="'Provincias'"></app-loading-spinner>
<app-alert-dialog [message]="message"></app-alert-dialog>


<article class="col  d-flex justify-content-center  pb-4">
  <h2 class="h1">Lista de Provincias</h2>
</article>
<form
  class="row row-cols-1  row-cols-sm-1 row-cols-md-1  row-cols-lg-1  row-cols-xl-3 px-4 d-flex justify-content-center align-items-center   "
  [formGroup]="paginationForm" autocomplete="off">

  <div class="col p-0 mb-0 mb-md-2 mb-sm-2">
    <div class="row me-sm-0 me-lg-4 d-flex    justify-content-center ">
      <button class="btn btn-success  w-75 px-4 me-sm-3 fw-bold" [routerLink]="['/provinces/register']">
        <img src="assets/add.svg" alt="Icono de agregar">Crear Provincia
      </button>
    </div>
  </div>

  <!-- <section class="col p-0 mb-0 mb-md-2 mb-sm-2">
    <section class="row me-sm-0 me-lg-4 d-flex justify-content-center">
      <button class="btn btn-success w-75 px-4 me-sm-3 fw-bold " [routerLink]="['/provinces/register']">
        <figure class="m-0 p-0 d-inline-flex align-items-center justify-content-center">
          <img src="assets/add.svg" alt="Icono de agregar">
          <figcaption class="ms-2 p-0  ">Crear Provincia</figcaption>
        </figure>
      </button>
    </section>
  </section> -->



  <section class="col d-flex justify-content-center align-self-center  mb-md-2 mb-sm-2">
    <!--
    <img src="assets/search.svg" class="   ">

    <input type="text" placeholder="Ingrese el nombre de la provincia" formControlName="nombre"
      class="form-control text-center" (keydown.enter)="onSearch($event)"> -->
    <div class="input-group">
      <span class="input-group-text">
        <img src="assets/search.svg" alt="Icono de bÃºsqueda"  >
      </span>
      <input type="text" placeholder="Ingrese el nombre de la provincia" formControlName="nombre"
        class="form-control text-center " (keydown.enter)="onSearch($event)">
    </div>

  </section>
  <section class="col  d-flex justify-content-end    align-self-center">


    <nav class="me-2 " aria-label="...">
      <ul class="pagination">

        <li class="page-item" (click)="onDecrease()" *ngIf="currentPagination.offset>0">
          <span class="page-link btn">Anterior</span>
        </li>
        <li class="page-item disabled" *ngIf="currentPagination.offset===0">
          <span class="page-link btn">Anterior</span>
        </li>

        <li class="page-item active " aria-current="page">
          <span class="page-link border rounded-1">{{ currentPagination.offset + 1 }}</span>
        </li>

        <li class="page-item" (click)="onIncrease()" *ngIf="canPagination">
          <a class="page-link btn">Siguiente</a>
        </li>
        <li class="page-item disabled" *ngIf="!canPagination">
          <a class="page-link btn">Siguiente</a>
        </li>
      </ul>
    </nav>

    <article class="col-2    ">

      <select class="form-select" formControlName="limit" aria-label="Default select example">
        <option *ngFor="let limite of limites" [value]=limite>
          {{limite}}
        </option>
      </select>
    </article>

  </section>

</form>

<app-table-provincies [handleResponse]="handleResponse" [provincias]="provincias"
  [currentPagination]="currentPagination" />


<!-- <code>
  <pre>current Tipo Cambio: {{currentPagination| json }}</pre>
</code>
<code>
  <pre>Formulario Tipo Cambio: {{paginationForm.value| json }}</pre>
</code> -->
